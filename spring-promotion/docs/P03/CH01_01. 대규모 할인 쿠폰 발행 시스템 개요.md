# 대규모 할인 쿠폰 발행 시스템 개요

## 1. 프로젝트 소개

### 1.1 개발 배경
- 대규모 할인 쿠폰 발행 시스템 구축 필요성
- 동시성 제어와 성능 최적화 요구사항
- 시스템 확장성과 안정성 보장

### 1.2 프로젝트 목표
- 초당 1000건 이상의 쿠폰 발행 API 처리
- 동시성 이슈 없는 안정적인 쿠폰 발행
- 시스템 부하 분산 및 장애 대응

## 2. 시스템 구성

### 2.1 시스템 아키텍처
```
[Client] → [API Gateway]
              ↓
[Service Discovery] → [Coupon Service] → [DB]
                           ↓
                     [Redis] [Kafka]
```

### 2.2 주요 컴포넌트
1. Coupon Service
   - 쿠폰 정책 관리
   - 쿠폰 발행/사용 처리
   - 동시성 제어

2. Database
   - H2(MySQL): 쿠폰 데이터 영구 저장
   - Redis: 동시성 제어, 캐시
   - Kafka: 비동기 메시지 처리

3. API Gateway
   - 라우팅
   - 인증/인가
   - 부하 분산

## 3. 개발 단계

### 3.1 V1 - DB 기반 구현
- 기본적인 CRUD 기능
- JPA를 활용한 데이터 처리
- 트랜잭션 관리

### 3.2 V2 - Redis 기반 개선
- Redis를 활용한 동시성 제어
- 분산 락 구현
- 상태 관리 최적화

### 3.3 V3 - Kafka 기반 개선
- 비동기 쿠폰 발행
- 이벤트 기반 아키텍처
- 큐 기반 요청 처리

## 4. 핵심 기능

### 4.1 쿠폰 정책 관리
- 쿠폰 발행 수량 제한
- 사용 기간 관리
- 할인 정책 설정

### 4.2 쿠폰 발행
- 동시성 제어
- 수량 제한 확인
- 중복 발행 방지

### 4.3 쿠폰 사용
- 유효성 검증
- 사용 처리
- 취소 처리